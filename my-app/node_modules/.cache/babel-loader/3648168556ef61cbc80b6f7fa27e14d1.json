{"ast":null,"code":"var _jsxFileName = \"/Users/tanzhuoyao/GitHub/SkyX/my-app/src/components/chart.jsx\";\nimport React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport flight_data from '../datasets/2020-06-17-TYO.json';\nimport { db } from './firebase';\nimport '../pages/pricechart';\nvar date_arr = [];\nvar price_arr = [];\nvar date_ = getNextMonth();\n\nfor (var x = 0; x < 14; x++) {\n  const {\n    Price\n  } = flight_data[x];\n  date_arr[x] = date_;\n  date_ = incrementDay(date_);\n  price_arr[x] = Price;\n}\n\nconsole.log(date_arr);\nvar price_int_arr = price_arr.map(x => parseInt(x.slice(1)));\n\nfunction cityPicker(city) {\n  if (city === \"Tokyo\") {\n    return \"TYO\";\n  } else if (city === \"Bali\") {\n    return \"DPS\";\n  } else if (city === \"London\") {\n    return \"LON\";\n  } else if (city === \"Hong Kong\") {\n    return \"HKG\";\n  } else {\n    return \"KUL\";\n  }\n}\n\nfunction monthToInt(month) {\n  if (month === \"Jan\") {\n    return 1;\n  } else if (month === \"Feb\") {\n    return 2;\n  } else if (month === \"Mar\") {\n    return 3;\n  } else if (month === \"Apr\") {\n    return 4;\n  } else if (month === \"May\") {\n    return 5;\n  } else if (month === \"Jun\") {\n    return 6;\n  } else if (month === \"Jul\") {\n    return 7;\n  } else if (month === \"Aug\") {\n    return 8;\n  } else if (month === \"Sep\") {\n    return 9;\n  }\n}\n\nfunction getNextMonth() {\n  var date = new Date();\n  var nextMonth = date.getDate() + 50;\n  console.log(nextMonth);\n  var month;\n  var day;\n  date.setDate(nextMonth);\n\n  if (date.getMonth() < 10) {\n    month = \"0\" + date.getMonth();\n  } else {\n    month = date.getMonth();\n  }\n\n  if (date.getDate() < 10) {\n    day = \"0\" + date.getDate();\n  } else {\n    day = date.getDate();\n  }\n\n  var dateStr = date.getFullYear() + \"-\" + month + \"-\" + day;\n  console.log(dateStr);\n  return dateStr;\n}\n\nfunction incrementDay(dateStr) {\n  var dateArr = dateStr.split(\"-\");\n  var month;\n  var day;\n  var date = new Date();\n  date.setFullYear(parseInt(dateArr[0]));\n  date.setMonth(parseInt(dateArr[1]));\n  date.setDate(parseInt(dateArr[2]));\n  var nextDay = date.getDate() + 1;\n  date.setDate(nextDay);\n\n  if (date.getMonth() < 10) {\n    month = \"0\" + date.getMonth();\n  } else {\n    month = date.getMonth();\n  }\n\n  if (date.getDate() < 10) {\n    day = \"0\" + date.getDate();\n  } else {\n    day = date.getDate();\n  }\n\n  var outputStr = date.getFullYear() + \"-\" + month + \"-\" + day;\n  console.log(outputStr);\n  return outputStr;\n}\n\nconst state = {\n  labels: date_arr,\n  datasets: [{\n    label: '$SGD',\n    fill: false,\n    lineTension: 0,\n    backgroundColor: 'rgba(75,192,192,1)',\n    borderColor: 'rgba(0,0,0,1)',\n    borderWidth: 5,\n    data: price_int_arr\n  }]\n};\n\nclass Chart extends React.Component {\n  render() {\n    const city = cityPicker(this.props.name);\n    db.collection('flight_price_' + city).doc(\"2020-06-21\").collection('2020-05-22').get().then(querySnapshot => {\n      querySnapshot.forEach(doc => {\n        // Gets the name of the document and the price of the flight\n        console.log(`${doc.id} => ${doc.get(\"Price\")}`);\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Line, {\n      data: state,\n      options: {\n        title: {\n          display: true,\n          text: \"Flight prices to \" + this.props.name,\n          fontSize: 20\n        },\n        legend: {\n          display: true,\n          position: 'right'\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }));\n  }\n\n}\n\nexport default Chart;","map":{"version":3,"sources":["/Users/tanzhuoyao/GitHub/SkyX/my-app/src/components/chart.jsx"],"names":["React","Line","flight_data","db","date_arr","price_arr","date_","getNextMonth","x","Price","incrementDay","console","log","price_int_arr","map","parseInt","slice","cityPicker","city","monthToInt","month","date","Date","nextMonth","getDate","day","setDate","getMonth","dateStr","getFullYear","dateArr","split","setFullYear","setMonth","nextDay","outputStr","state","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","borderWidth","data","Chart","Component","render","props","name","collection","doc","get","then","querySnapshot","forEach","id","title","display","text","fontSize","legend","position"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,SAASC,EAAT,QAAmB,YAAnB;AACA,OAAO,qBAAP;AAEA,IAAIC,QAAQ,GAAG,EAAf;AACA,IAAIC,SAAS,GAAG,EAAhB;AACA,IAAIC,KAAK,GAAGC,YAAY,EAAxB;;AAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAYP,WAAW,CAACM,CAAD,CAA7B;AACAJ,EAAAA,QAAQ,CAACI,CAAD,CAAR,GAAcF,KAAd;AACAA,EAAAA,KAAK,GAAGI,YAAY,CAACJ,KAAD,CAApB;AACAD,EAAAA,SAAS,CAACG,CAAD,CAAT,GAAeC,KAAf;AACH;;AAEDE,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACA,IAAIS,aAAa,GAAGR,SAAS,CAACS,GAAV,CAAcN,CAAC,IAAGO,QAAQ,CAACP,CAAC,CAACQ,KAAF,CAAQ,CAAR,CAAD,CAA1B,CAApB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIA,IAAI,KAAK,OAAb,EAAsB;AACpB,WAAO,KAAP;AACD,GAFD,MAEO,IAAIA,IAAI,KAAK,MAAb,EAAqB;AAC1B,WAAO,KAAP;AACD,GAFM,MAEA,IAAIA,IAAI,KAAI,QAAZ,EAAsB;AAC3B,WAAO,KAAP;AACD,GAFM,MAEA,IAAIA,IAAI,KAAK,WAAb,EAA0B;AAC/B,WAAO,KAAP;AACD,GAFM,MAEA;AACL,WAAO,KAAP;AACD;AACF;;AAED,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACzB,MAAIA,KAAK,KAAK,KAAd,EAAqB;AACnB,WAAO,CAAP;AACD,GAFD,MAEO,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,WAAO,CAAP;AACD,GAFM,MAEA,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,WAAO,CAAP;AACD,GAFM,MAEA,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,WAAO,CAAP;AACD,GAFM,MAEA,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,WAAO,CAAP;AACD,GAFM,MAEA,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,WAAO,CAAP;AACD,GAFM,MAEA,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,WAAO,CAAP;AACD,GAFM,MAEA,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,WAAO,CAAP;AACD,GAFM,MAEA,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,WAAO,CAAP;AACD;AACD;;AAEF,SAASb,YAAT,GAAwB;AACtB,MAAIc,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,MAAIC,SAAS,GAAGF,IAAI,CAACG,OAAL,KAAiB,EAAjC;AACAb,EAAAA,OAAO,CAACC,GAAR,CAAYW,SAAZ;AACA,MAAIH,KAAJ;AACA,MAAIK,GAAJ;AACAJ,EAAAA,IAAI,CAACK,OAAL,CAAaH,SAAb;;AACA,MAAIF,IAAI,CAACM,QAAL,KAAkB,EAAtB,EAA0B;AACxBP,IAAAA,KAAK,GAAG,MAAMC,IAAI,CAACM,QAAL,EAAd;AACD,GAFD,MAEO;AACLP,IAAAA,KAAK,GAAGC,IAAI,CAACM,QAAL,EAAR;AACD;;AACD,MAAIN,IAAI,CAACG,OAAL,KAAiB,EAArB,EAAyB;AACvBC,IAAAA,GAAG,GAAG,MAAMJ,IAAI,CAACG,OAAL,EAAZ;AACD,GAFD,MAEO;AACLC,IAAAA,GAAG,GAAGJ,IAAI,CAACG,OAAL,EAAN;AACD;;AACD,MAAII,OAAO,GAAGP,IAAI,CAACQ,WAAL,KAAqB,GAArB,GAA2BT,KAA3B,GAAmC,GAAnC,GAAyCK,GAAvD;AACAd,EAAAA,OAAO,CAACC,GAAR,CAAYgB,OAAZ;AACA,SAAOA,OAAP;AACD;;AAED,SAASlB,YAAT,CAAsBkB,OAAtB,EAA+B;AAC7B,MAAIE,OAAO,GAAGF,OAAO,CAACG,KAAR,CAAc,GAAd,CAAd;AACA,MAAIX,KAAJ;AACA,MAAIK,GAAJ;AACA,MAAIJ,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACAD,EAAAA,IAAI,CAACW,WAAL,CAAiBjB,QAAQ,CAACe,OAAO,CAAC,CAAD,CAAR,CAAzB;AACAT,EAAAA,IAAI,CAACY,QAAL,CAAclB,QAAQ,CAACe,OAAO,CAAC,CAAD,CAAR,CAAtB;AACAT,EAAAA,IAAI,CAACK,OAAL,CAAaX,QAAQ,CAACe,OAAO,CAAC,CAAD,CAAR,CAArB;AACA,MAAII,OAAO,GAAGb,IAAI,CAACG,OAAL,KAAiB,CAA/B;AACAH,EAAAA,IAAI,CAACK,OAAL,CAAaQ,OAAb;;AACA,MAAIb,IAAI,CAACM,QAAL,KAAkB,EAAtB,EAA0B;AACxBP,IAAAA,KAAK,GAAG,MAAMC,IAAI,CAACM,QAAL,EAAd;AACD,GAFD,MAEO;AACLP,IAAAA,KAAK,GAAGC,IAAI,CAACM,QAAL,EAAR;AACD;;AACD,MAAIN,IAAI,CAACG,OAAL,KAAiB,EAArB,EAAyB;AACvBC,IAAAA,GAAG,GAAG,MAAMJ,IAAI,CAACG,OAAL,EAAZ;AACD,GAFD,MAEO;AACLC,IAAAA,GAAG,GAAGJ,IAAI,CAACG,OAAL,EAAN;AACD;;AACD,MAAIW,SAAS,GAAGd,IAAI,CAACQ,WAAL,KAAqB,GAArB,GAA2BT,KAA3B,GAAmC,GAAnC,GAAyCK,GAAzD;AACAd,EAAAA,OAAO,CAACC,GAAR,CAAYuB,SAAZ;AACA,SAAOA,SAAP;AACD;;AAED,MAAMC,KAAK,GAAG;AACVC,EAAAA,MAAM,EAAEjC,QADE;AAEVkC,EAAAA,QAAQ,EAAE,CACN;AACIC,IAAAA,KAAK,EAAE,MADX;AAEIC,IAAAA,IAAI,EAAE,KAFV;AAGIC,IAAAA,WAAW,EAAE,CAHjB;AAIIC,IAAAA,eAAe,EAAE,oBAJrB;AAKIC,IAAAA,WAAW,EAAE,eALjB;AAMIC,IAAAA,WAAW,EAAE,CANjB;AAOIC,IAAAA,IAAI,EAAEhC;AAPV,GADM;AAFA,CAAd;;AAeA,MAAMiC,KAAN,SAAoB9C,KAAK,CAAC+C,SAA1B,CAAoC;AAChCC,EAAAA,MAAM,GAAG;AACL,UAAM9B,IAAI,GAAGD,UAAU,CAAC,KAAKgC,KAAL,CAAWC,IAAZ,CAAvB;AACA/C,IAAAA,EAAE,CAACgD,UAAH,CAAc,kBAAkBjC,IAAhC,EAAsCkC,GAAtC,CAA0C,YAA1C,EACGD,UADH,CACc,YADd,EAC4BE,GAD5B,GACkCC,IADlC,CACwCC,aAAD,IAAmB;AACtDA,MAAAA,aAAa,CAACC,OAAd,CAAuBJ,GAAD,IAAS;AAC7B;AACAzC,QAAAA,OAAO,CAACC,GAAR,CAAa,GAAEwC,GAAG,CAACK,EAAG,OAAML,GAAG,CAACC,GAAJ,CAAQ,OAAR,CAAiB,EAA7C;AACD,OAHD;AAID,KANH;AAOA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAGjB,KADT;AAEE,MAAA,OAAO,EAAE;AACPsB,QAAAA,KAAK,EAAC;AACJC,UAAAA,OAAO,EAAC,IADJ;AAEJC,UAAAA,IAAI,EAAE,sBAAsB,KAAKX,KAAL,CAAWC,IAFnC;AAGJW,UAAAA,QAAQ,EAAC;AAHL,SADC;AAMPC,QAAAA,MAAM,EAAC;AACLH,UAAAA,OAAO,EAAC,IADH;AAELI,UAAAA,QAAQ,EAAC;AAFJ;AANA,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADJ;AAkBH;;AA5B+B;;AA+BpC,eAAejB,KAAf","sourcesContent":["import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport flight_data from '../datasets/2020-06-17-TYO.json';\nimport { db } from './firebase';\nimport '../pages/pricechart'\n\nvar date_arr = [];\nvar price_arr = [];\nvar date_ = getNextMonth();\n\nfor (var x = 0; x < 14; x++) {\n    const { Price } = flight_data[x];\n    date_arr[x] = date_;\n    date_ = incrementDay(date_);\n    price_arr[x] = Price;\n}\n\nconsole.log(date_arr);\nvar price_int_arr = price_arr.map(x =>parseInt(x.slice(1)));\n\nfunction cityPicker(city) {\n  if (city === \"Tokyo\") {\n    return \"TYO\";\n  } else if (city === \"Bali\") {\n    return \"DPS\";\n  } else if (city=== \"London\") {\n    return \"LON\";\n  } else if (city === \"Hong Kong\") {\n    return \"HKG\";\n  } else {\n    return \"KUL\";\n  }\n}\n\nfunction monthToInt(month) {\n  if (month === \"Jan\") {\n    return 1;\n  } else if (month === \"Feb\") {\n    return 2;\n  } else if (month === \"Mar\") {\n    return 3;\n  } else if (month === \"Apr\") {\n    return 4;\n  } else if (month === \"May\") {\n    return 5;\n  } else if (month === \"Jun\") {\n    return 6;\n  } else if (month === \"Jul\") {\n    return 7;\n  } else if (month === \"Aug\") {\n    return 8;\n  } else if (month === \"Sep\") {\n    return 9;\n  }\n }\n\nfunction getNextMonth() {\n  var date = new Date();\n  var nextMonth = date.getDate() + 50;\n  console.log(nextMonth);\n  var month;\n  var day;\n  date.setDate(nextMonth);\n  if (date.getMonth() < 10) {\n    month = \"0\" + date.getMonth();\n  } else {\n    month = date.getMonth();\n  }\n  if (date.getDate() < 10) {\n    day = \"0\" + date.getDate();\n  } else {\n    day = date.getDate();\n  }\n  var dateStr = date.getFullYear() + \"-\" + month + \"-\" + day;\n  console.log(dateStr);\n  return dateStr;\n}\n\nfunction incrementDay(dateStr) {\n  var dateArr = dateStr.split(\"-\");\n  var month;\n  var day;\n  var date = new Date();\n  date.setFullYear(parseInt(dateArr[0]));\n  date.setMonth(parseInt(dateArr[1]));\n  date.setDate(parseInt(dateArr[2]));\n  var nextDay = date.getDate() + 1;\n  date.setDate(nextDay);\n  if (date.getMonth() < 10) {\n    month = \"0\" + date.getMonth();\n  } else {\n    month = date.getMonth();\n  }\n  if (date.getDate() < 10) {\n    day = \"0\" + date.getDate();\n  } else {\n    day = date.getDate();\n  }\n  var outputStr = date.getFullYear() + \"-\" + month + \"-\" + day;\n  console.log(outputStr);\n  return outputStr;\n}\n\nconst state = { \n    labels: date_arr,\n    datasets: [\n        {\n            label: '$SGD',\n            fill: false,\n            lineTension: 0,\n            backgroundColor: 'rgba(75,192,192,1)',\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 5,\n            data: price_int_arr\n        }\n    ]\n};\n\nclass Chart extends React.Component {\n    render() { \n        const city = cityPicker(this.props.name);\n        db.collection('flight_price_' + city).doc(\"2020-06-21\")\n          .collection('2020-05-22').get().then((querySnapshot) => {\n            querySnapshot.forEach((doc) => {\n              // Gets the name of the document and the price of the flight\n              console.log(`${doc.id} => ${doc.get(\"Price\")}`);\n            });\n          });\n        return (\n            <div>\n              <Line \n                data={ state }\n                options={{\n                  title:{\n                    display:true,\n                    text: \"Flight prices to \" + this.props.name,\n                    fontSize:20\n                  },\n                  legend:{\n                    display:true,\n                    position:'right'\n                  }\n                }}\n              />\n            </div>\n          );\n    }\n}\n \nexport default Chart;\n"]},"metadata":{},"sourceType":"module"}